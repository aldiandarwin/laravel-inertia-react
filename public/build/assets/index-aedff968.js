import{r,c as P}from"./app-c8c77ab7.js";import{$ as A}from"./button-cca9d30a.js";function U(e,n){const o=r.createContext(n);function t(u){const{children:i,...a}=u,f=r.useMemo(()=>a,Object.values(a));return r.createElement(o.Provider,{value:f},i)}function c(u){const i=r.useContext(o);if(i)return i;if(n!==void 0)return n;throw new Error(`\`${u}\` must be used within \`${e}\``)}return t.displayName=e+"Provider",[t,c]}function R(e,n=[]){let o=[];function t(u,i){const a=r.createContext(i),f=o.length;o=[...o,i];function s(d){const{scope:l,children:$,...v}=d,b=(l==null?void 0:l[e][f])||a,x=r.useMemo(()=>v,Object.values(v));return r.createElement(b.Provider,{value:x},$)}function m(d,l){const $=(l==null?void 0:l[e][f])||a,v=r.useContext($);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${u}\``)}return s.displayName=u+"Provider",[s,m]}const c=()=>{const u=o.map(i=>r.createContext(i));return function(a){const f=(a==null?void 0:a[e])||u;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:f}}),[a,f])}};return c.scopeName=e,[t,S(c,...n)]}function S(...e){const n=e[0];if(e.length===1)return n;const o=()=>{const t=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const i=t.reduce((a,{useScope:f,scopeName:s})=>{const d=f(u)[`__scope${s}`];return{...a,...d}},{});return r.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return o.scopeName=n.scopeName,o}function _(e,n,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return n==null?void 0:n(c)}}function h(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...o)=>{var t;return(t=n.current)===null||t===void 0?void 0:t.call(n,...o)},[])}function y({prop:e,defaultProp:n,onChange:o=()=>{}}){const[t,c]=C({defaultProp:n,onChange:o}),u=e!==void 0,i=u?e:t,a=h(o),f=r.useCallback(s=>{if(u){const d=typeof s=="function"?s(e):s;d!==e&&a(d)}else c(s)},[u,e,c,a]);return[i,f]}function C({defaultProp:e,onChange:n}){const o=r.useState(e),[t]=o,c=r.useRef(t),u=h(n);return r.useEffect(()=>{c.current!==t&&(u(t),c.current=t)},[t,c,u]),o}const N=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{};function E(e,n){return r.useReducer((o,t)=>{const c=n[o][t];return c??o},e)}const M=e=>{const{present:n,children:o}=e,t=T(n),c=typeof o=="function"?o({present:t.isPresent}):r.Children.only(o),u=A(t.ref,c.ref);return typeof o=="function"||t.isPresent?r.cloneElement(c,{ref:u}):null};M.displayName="Presence";function T(e){const[n,o]=r.useState(),t=r.useRef({}),c=r.useRef(e),u=r.useRef("none"),i=e?"mounted":"unmounted",[a,f]=E(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const s=p(t.current);u.current=a==="mounted"?s:"none"},[a]),N(()=>{const s=t.current,m=c.current;if(m!==e){const l=u.current,$=p(s);e?f("MOUNT"):$==="none"||(s==null?void 0:s.display)==="none"?f("UNMOUNT"):f(m&&l!==$?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,f]),N(()=>{if(n){const s=d=>{const $=p(t.current).includes(d.animationName);d.target===n&&$&&P.flushSync(()=>f("ANIMATION_END"))},m=d=>{d.target===n&&(u.current=p(t.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",s),n.addEventListener("animationend",s),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",s),n.removeEventListener("animationend",s)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:r.useCallback(s=>{s&&(t.current=getComputedStyle(s)),o(s)},[])}}function p(e){return(e==null?void 0:e.animationName)||"none"}export{R as $,y as a,_ as b,M as c,h as d,N as e,U as f};
